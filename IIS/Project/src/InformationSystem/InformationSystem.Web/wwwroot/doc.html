<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0070)https://www.fit.vutbr.cz/study/courses/IIS/private/projekt/doc.html.cs -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2" />

    <title>Projekt IIS</title>
    <style type="text/css">
        table {
            border-collapse: collapse;
        }

        td, th {
            border: 1px solid black;
            padding: 0.3em 0.5em;
            text-align: left;
        }

        dt {
            font-weight: bold;
            margin-top: 0.5em;
        }
    </style>
</head>
<body>
    <!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu
         podle pou¾itého editoru -->
    <h1>Autoopravna</h1> <!-- Nahradte názvem svého zadání -->
    <dl>
        <dt>Autoøi</dt>
        <dd>
            Michal Mrnu¹tík <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
            <a href="mailto:xmrnus01@stud.fit.vutbr.cz">xmrnus01@stud.fit.vutbr.cz</a> -
            Datbase Access Logic (DAL) + Business Logic (BL) - návrh databáze, tvorba migrací, napojení na Business Logiku, support v rámci týmu
        </dd>
        <dd>
            Filip Dole¾al <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
            <a href="mailto:xdolez69@stud.fit.vutbr.cz">xdolez69@stud.fit.vutbr.cz</a> -
            Administraèní rozhrání pro administrátory napojení na ASP.NET Identity, tvorba PDF k úhradì
        </dd>
        <dd>
            Zuzana Císaøová<!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
            <a href="mailto:xcisar07@stud.fit.vutbr.cz">xcisar07@stud.fit.vutbr.cz</a> -
            Rozhrání pro zákazníky, stylování, pøihla¹ovací stránky
        </dd>
        <dt>URL aplikace</dt>
        <dd><a href="http://iis.mrnustik.net">http://iis.mrnustik.net</a></dd>
    </dl>
    <h2>U¾ivatelé systému pro testování</h2>
    <p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
    <table>
        <tbody>
            <tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
            <tr><td>admin@iis.mrnustik.net</td><td>admin</td><td>Administrátor</td></tr>
            <tr><td>j@j.j</td><td>mrndik</td><td>Mechanik</td></tr>
            <tr><td>m@mrnustik.net</td><td>mrndik</td><td>Zákazník</td></tr>
        </tbody>
    </table>
    <h2>Implementace</h2>
    <h3>Pou¾ité technologie</h3>
    <ul>
        <li>Jazyk - ASP.NET Core 2.0</li>
        <li>Databázové technologie - napojená databáze v Azure SQL (ConnectionString lze nalézt v projetktu InformationSystem.Web v souboru appsettings.json)</li>
        <li>
            Backend
            <ul>
                <li>
                    Správa u¾ivatelù - Microsoft.AspNet.Identity (podpora pøihla¹ování v rámci Cookies, databázové zázemí, správa rolí)
                </li>
                <li>
                    Generování PDF pro faktury - knihovna libwkhtmltox napojená pøes NuGet balíèek DinkToPdf
                </li>
            </ul>
        </li>
        <li>
            Frontend
            <ul>
                <li> Framework DotVVM pro komunikaci server-klient a tvorbu u¾ivatelského rozhrání</li>
            </ul>
        </li>
    </ul>

    <h3>Struktura projektù</h3>
    <ul>
        <li>
            <b>InformationSystem.DAL</b> - Poskytuje napojení do DB, definuje DB entity(tabulky)
        </li>
        <li>
            <b>InformationSystem.BL</b> - Obsahuje Modely pro pøedávání dat z DB do aplikace, definuje Service, které se pou¾ívají pro pøístup k datùm
        </li>
        <li>
            <b>InformationSystem.Web</b> - Obsahuje definici u¾ivatelských rozhraní ve formátu DotHTML (slo¾ka Views), definici ViewModels, které obsahují aplikaèní logiku a jsou napojené na Views
        </li>
    </ul>
    <div>
        <h3>
            Pøípady pou¾ití
        </h3>
        <ul>
            <li><b>Administrátor</b> - mù¾e deaktivovat u¾ivatele a pøidìlovat jim role</li>
            <li><b>Mechanik</b> - mù¾e provádìt správu materiálù a pøed provedením pøidìlené opravy vozidla mù¾e pøidat materiál pou¾itý pøi opravì</li>
            <li><b>U¾ivatel</b> - pøidává si vozidla do evidence, mù¾e si pro svá vozidla objednat opravy, poté co je oprava nastavena jako provedena mù¾e si zákazník vytisknout fakturu za práci a materiál</li>
        </ul>
    </div>
    <h2>Instalace</h2>
    <ul>
        <li>potøeba nainstalovat .NET Core framework SDK 2.0</li>
        <li>zavolat pøíkaz dotnet restore pro natáhnutí potøebných balíèkù</li>
        <li>Nastavit ConnectionString do databáze (v InformationSystem.Web/appsetings.json a v InformationSystem.DAL/DesignTimeDbContextFactory.cs)</li>
        <li>zavolat pøíkaz dotnet ef database update pro inicializaci DB</li>
        <li>spu¹tìní pomocí pøíkazu dotnet run</li>
    </ul>
    <h2>Známé problémy</h2>
    <p>Jediná vìc, která se nám nepodaøilo nìjak rozumnì implementovat a z návrhu jsme se jí rozhodli vy¹krnout byla specializace mechanikù na jednotlivé typy operace. Dùvodem bylo pou¾ití Microsoft.AspNetCore.Identity, které pro u¾ivatele umo¾òuje pouze jednu entitu a bylo by tak nutné zavádìt navíc tabulku v DB, co¾ by znepøehlednilo fungování aplikace.</p>

</body>
</html>